<!DOCTYPE html>
<html>
<head>
  <title>Tra Cứu Thí Sinh</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
    .container { background: #f5f5f5; padding: 20px; border-radius: 10px; }
    input, button { padding: 10px; margin: 5px 0; width: 100%; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    td { padding: 10px; border-bottom: 1px solid #ddd; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Tra Cứu Thông Tin Thí Sinh</h1>
    <input type="text" id="cccd" placeholder="Nhập số CCCD..." required>
    <button onclick="traCuu()">Tra Cứu</button>
    
    <div id="ketQua" style="display:none;">
      <table>
        <tr><td><strong>Mã PTXT:</strong></td><td id="maPTXT"></td></tr>
        <tr><td><strong>Họ và tên:</strong></td><td id="hoTen"></td></tr>
        <tr><td><strong>Ngày sinh:</strong></td><td id="ngaySinh"></td></tr>
        <tr><td><strong>SĐT:</strong></td><td id="sdt"></td></tr>
        <tr><td><strong>Trường TN:</strong></td><td id="truongTN"></td></tr>
        <tr><td><strong>Ghi chú:</strong></td><td id="ghiChu"></td></tr>
      </table>
    </div>
  </div>

  <script>
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbx1DWgLY3nxR7cWvyGghRDX3xgGJoUErPy_USAx1Uwta5yMPlWzu_KmZI4X25gJS-fIDQ/exec"; // Thay bằng URL từ Bước 3

    function traCuu() {
      const cccd = document.getElementById("cccd").value;
      if (!cccd) return alert("Vui lòng nhập số CCCD!");
      
      fetch(`${WEB_APP_URL}?cccd=${encodeURIComponent(cccd)}`)
        .then(response => response.json())
        .then(data => {
          if (data.error) {
            alert(data.error);
          } else {
            // Hiển thị kết quả
            document.getElementById("maPTXT").textContent = data.maPTXT;
            document.getElementById("hoTen").textContent = data.hoTen;
            document.getElementById("ngaySinh").textContent = data.ngaySinh;
            document.getElementById("sdt").textContent = data.sdt;
            document.getElementById("truongTN").textContent = data.truongTN;
            document.getElementById("ghiChu").textContent = data.ghiChu;
            document.getElementById("ketQua").style.display = "block";
          }
        })
        .catch(error => alert("Lỗi kết nối!"));
    }
  </script>
</body>
</html>
